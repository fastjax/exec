# Copyright (c) 2018 LibJ
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/libj
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: W2QCyqk9z0I96EiU41VsT6N8OSkbMSEJNVYO4aubxD0j+RBl35BeNwQ/X7J9+3fuGxc2UMPyXaWhDze3uQIam1nO2hjWKvqSunFM/5DztZxtaL/wqmaVrP2Li3jPvKyziw7gxIvxVMyRO7Q0gHHbpNn65xXrigSld0SmPn7IGZQZG48/QyJlZ8E8qJodxlRM5WYf+DRHk4ekNMAEWwTdBJUdwx3/9NRBysdRUXdeMwbhFMbcp7hxYAFYTXMpqk6SE96tEevKsiVdZ8vRO+dbsQ1Ef+kCgVmO34qAFFatxsxNE5rLeSTy5LkT6hKY5qL3XUsxwsskJPG/dab1r7huPL2DZLVu/+kHIzirH11S5pBicIT42j9uvw0zOZGOIoJ2jylZjfPVE2OnTJa3EmSpQo5B5NyDsOpttha5TlK7B3IWjd+T/lQC6Rszza4TNziBDav80xNM6n2fZyHWtTrVAFbcsw1eV30WlIFnKHuD/5Ac9zFrKfHOyStAXVLELf0tUYTBNAYl3ShIjzt/uQ1u7A07meY2kTW7SBPqcDH6JP3NVVgVLZ3M38LcU+FrH+aAjF8yWaTwWbiTFs89EfMiPuKARswc4eIQzFWUxUFqYN7/nr76HW5z1mif26UcaJw9iQsFz/Eh4RUv2cewHbLdezif1d+xD2ya5l2j8A50ZeY=
  - secure: IKFCl+bq2P53pTZZjpI+voh+/1WvlJDXllSajiGpL7uKnv2TfGqj3o8xzzdbd+qDfEgX0ARxb9lVN7iH7zlgDN562xzBtTHRlJeuVYqQOIP9hzrfM7A5nNAwuuviCnJJphm5HVL3+5M6VFIZvbcDp7FmRta2LNH9SeuxwYA4WKYO4duQjp4lC9sy/OuvTqW2oSotiNTnaIb3+l54QJedbK4nAGqP6FNsTTNIXQfV/AV7QJeUuhtplkKp3RN6peVVgtu7qomcbcDLyUZJG1w4vxPku8+N2JylOd6/GkfTdsaD/fon6hs7Ao5Il6+W4bTM84ln53RImTdx+ZDHVmeambnk64aEEb0/QcrWqWi0vfw8qq/p6V5zeR/i2rfsaN9GWpM+vAFwsZvCO6IYrBENcBlibF3wkNttfmzhZGwO5q2+YQhrHOjnnTmXLePBZg9SQw3Dnk2MyY/Ps4eM77Wc9of6n8d8LCRdL8qLe8RUXUg+Xp0YjUJVfiiDNgp56OYJ74wJrkRL+ZYG9zaaSEbkjcm/IembxHMUuueHBiKdwyzoBojDZgr171efllUyy1/gT2koENYgdxnrBeN3bS5ooy0RYq/0P9aK/m8qmuYjvs0Q+2O11aV4DDSgRcdoiAFqzBX7kZXjGLr8bRB9Nv5IF86uqY7TCX1Y+DENyL4zO00=
  - secure: YWKxq5vq1zqWlSoHOFsSi8haJQ2RZ1h0ad0afwhEqzb90HIpN/MT25JTM9Fp2IQER/n9by90Kfg3N2JxPPqAmBcG/7RPS9r4jW6tPBPNGAdBhTJZ9JRy+AG5UXqg1f0gT++rsBNbaReLT8yUNk93NrFeWvxCm5oGIPYEw8HFrbhQmQQLGqhTgUcPomZzo8IsbMlOnvG1qo2/s3/iR96G3+sisHQndt+s6samWBH/rEKQaSVd8jDFr4uS+AKiHjWGPD5R6oS9h3yDJZEFLLigXg0IX1eD/UHV9Js5wZlSW/ScxIDL2Z7cp/EtJcCepvficyXQT8SPn3z+ewdDdMqXqC9I1nHCqhGc/dyTVLtfMr2S2mS8ejjOcauHiNtDFg+3pvET4AOlUPBm2j0VK7cNe2KKzxS2u2wd5MjTTZqSCOxCmftwPqNwTn2Bf5h0z8DbwunvBlS5BG69vitjVbkWQJWJ4aO/3Q64DZOdrNIyJuMc/oyqonR67oa6DdNd4cahJhaA9RO8QINKObAKY+fuxUzn/ji4A2AfBSZXysoX+edXjnRPM53nIWAdaA7JOtNvd6iBa67HlgHeQKlR1tkRKxgyRIclYucDINBW1Ptt4T2XKCFlSTK9LXsSrr6U5sMx2D7cVMGqyOl1r0G4H3GtjR6pd/X4VyYQMHO9uqChAjQ=
  - secure: GAgSfaZ1Dcqtxrjy93WjzrlfOPevd0C/dEuhTW2Rl8l3DV3Y1LrQC9AmrSvP9VqXUnE9/krw8sCNoLKD7HBCcFXmvE8tSoUwLSDgSeD76gHJpzT0Fea7wLk/r0Kpa5r026YYZSNo/SRPQAkYf8aUzmekWJRi9eYdt4fe3AvwDzzoG46jgeaofMWmK9Lta/+zpumhee4mZrJG3Tedttx8w7h4cNw4UiRfqRUgnVxOsoPmLIJtKqB2gC77b1PslAFeCDlUVPwjlc4OOq+RJJf02aKWJo6g2lQ51DfLouXMrTWCce1ekcQDyl4vU7i7+IAFRmY71eJwB84Jtg6R6gXgyudwmvRM9ctjKWCoUBSeIWi1V5U/OUbBo2QDaeJqiEhdY2et/cjv3BVue+0nrMEoC6OtvvyxT/qr++vmO5IlwSdGhIeSgaXrZQcGbsL15MXL+ip98Gs+5U73Rn6x8nmXj9bTI+To6AU28/MzLSPrJAkgKBV3s9O+2gGBZf0kp7V6ua4Xpk5VQ8+cR/b7jMhfUQLps+c3EkjrhFwF9mGIKU1agDHePRqz6Ob/8YE4ApSkKoSIqCSmDa68uAxsT+hSb7U7kpiQwqBTEo652zq6dqtKhdoCQdXrgceVghkBHymwg5vGRRkNC6wuiwKeFb0Elb4jXC/7WRclMERvZb2U+BM=
  - secure: Qb2fTyZcn43QDwud6eQfxjBTt42Gh+AiQNsP8CeRUEMywDlyJiq2HCsyE8UNPz3C0AkN43dd/5joQG71vGiZcOi2DBQwqpCV+E9H7EaAvdi6ObGx2mVbjSfalwdBNbo5Mdk3Uv5XMESlw6L/pk+bSt79zxttYIZuZMQoP7UNkDrNVoPFO/LhqpeWnHGhG+2Y0HxUVNJrzZm5m3grQNwyJu9aJ2j41pr9WFBAvApucYSoGf0YWfDWbNhDkKZD6W51A7EnCRRzyMVYp3TfV4DXgOwN42mHVNW4Zx1ZMkiQswSas9bWOM2ezT1tPi9SvjTGTfNI2ee5nR0BWgALDujsYDKNGLeFHrXJeeScfp+K05VvvZMSst2lMm81Ay+uFUm0rhKxXJNub5P/IBAOnNJfyjVwbF/1Wa/HfaoQKXzu5RqnH/ZA6RldB6Nz4t0h6JAklbxghvYqjIdnqtAwjUpzXtNt539ed3jvEvVqtmxA8EFW3j7xfgxTmA5+vdCHSoyJfj2VwYojv4vI0Hg+hjfZeDqAOeXHdKlAsHI7uefAtJDdzODJ/96IMCnlolMTMC0NPN1OrodVn+ocp8xR1kt3sNu13ORHMpGeC0WVxarDZPkIy8ofIP6Vak2MWr3Zjmib4atw+vfytHP7x3GGv/GIFCX+tYhXyalHEDMmwHN3rz8=
  - secure: GnYgBhZ2JHI18kCESiea8xgmCR1ECX7LwMK/j7fXkk4ev3HcQ1K+Qgg4DFtt8gqyVVHBSLt38msthq9nRjAzfNqXAshoPUXFyVGfoTLdBLi9b3DvQzYAYDRbkLz3VCXjfakvZtGDC9JNjj8OLtUHOiykj6RKCVhGyN1NseCMZYu2n4g9VC9Lw0tM03GO7SI4x/aCyb2ZxdPvL+6bUjPsd6MXVDtFonYvZXUY7YFMOd3z4NJhudHvHYiELTfCmgh0ZC/kPQ/SQ82Yb4wC61b5OFnLpgG0rU9L1aqADd6nETYFaxdpoqi/uXQl0JcU3wOs+TspDI0BScNz0pQgbOYgwHDXPfrIN4eLHfdPZmVHCU7c0wKvcV1xOLt0zfQmTjVDEEe1zCQ6FeOb3ruHhjyhH03wrJ7aTn/gEG4M44a749h9/xTLL8qeX9MkehXd5/JTGKU/PNIEHWdg/vHPkszByE6m2hMNlt5jByLyTwZWzYuIxulPLMjTpumaxPn1wAGhapQjyRT1tBx35nb0AhbKAjGY228Rv8mRLY2ZSzfYBb21tS0sLXz23dZNvxUGWz17oN4yNrEkW7GZbjUuD9xQUYq/xhl1o3v57lrraNxcfV0ZyIbmbiB4M2na7TwLpznnflWwiuifz+SnezECMt4a7u/8b77VbkwYobY2W6VQ+qc=
  - secure: Bt9eIYHKDcrLuGrVj/Z4fOuVtksTmWjEr5ZHSxzr5dmbnNjoZg8+infYIcuBz/mivirBWEHGQrx2mOQeP8KNBVDJfHecV7+7C3JKPYYxk7c1OO0g25Nxpa2Ckr1K4TTVNAgw6hZZgpJy6KNtv9/kaQXDtwV1hf5S10aWSACtuaur7kn3e6RJhba3V1xRtW/kAD/wlXBfSieof3PZKbJzQZhz4/a4y42SNQQ1xdJ9zVoqEVx0lW6pXu8AgjY7KnWVqL7ceQKCP9hNCUaDOX/r1RlMsD+0/rGWYLgWo0OdZzXiWpMRG/adtxGn43oLVtd6LY6x3FYqpGQnlT/9b8wRGneWuzXblQZsaZw0y9tO1Nx4BQuXswtEOjrm6vws6k9mARPNzSkZKB6OajDwKTiEebSi1GkAl/F+VDAGhnQXXKUDUBt2ahdpxfyvLN4n0//3lrsSKgGIs7+L2zGwfO69UFus0UE0SCbvTR11edJEguBvksNvCYAEDlQq1XkthW7FL5Tytaq4h/uD1OUrZ/Y8N5dD6SMkaITm5CXRTt2yarB3h+4XjDSxs5eEZhKTN28DebS+GCHdhc4D0q84gO10vE3OgCUB/CJ9jXktEZqgaBmo5CXlBsfgX/YOMlRv738BdT0wy5eXGSf9mOIs8fPM5WK3cxYK6B7fb/+/51fr5tk=
